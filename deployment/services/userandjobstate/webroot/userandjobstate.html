<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title></title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">



<ul id="index">
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a>
    <ul>
      <li><a href="#ver">ver</a></li>
      <li><a href="#set_state">set_state</a></li>
      <li><a href="#set_state_auth">set_state_auth</a></li>
      <li><a href="#get_state">get_state</a></li>
      <li><a href="#has_state">has_state</a></li>
      <li><a href="#get_has_state">get_has_state</a></li>
      <li><a href="#remove_state">remove_state</a></li>
      <li><a href="#remove_state_auth">remove_state_auth</a></li>
      <li><a href="#list_state">list_state</a></li>
      <li><a href="#list_state_services">list_state_services</a></li>
      <li><a href="#create_job">create_job</a></li>
      <li><a href="#start_job">start_job</a></li>
      <li><a href="#create_and_start_job">create_and_start_job</a></li>
      <li><a href="#update_job_progress">update_job_progress</a></li>
      <li><a href="#update_job">update_job</a></li>
      <li><a href="#get_job_description">get_job_description</a></li>
      <li><a href="#get_job_status">get_job_status</a></li>
      <li><a href="#complete_job">complete_job</a></li>
      <li><a href="#get_results">get_results</a></li>
      <li><a href="#get_detailed_error">get_detailed_error</a></li>
      <li><a href="#get_job_info">get_job_info</a></li>
      <li><a href="#list_jobs">list_jobs</a></li>
      <li><a href="#list_job_services">list_job_services</a></li>
      <li><a href="#share_job">share_job</a></li>
      <li><a href="#unshare_job">unshare_job</a></li>
      <li><a href="#get_job_owner">get_job_owner</a></li>
      <li><a href="#get_job_shared">get_job_shared</a></li>
      <li><a href="#delete_job">delete_job</a></li>
      <li><a href="#force_delete_job">force_delete_job</a></li>
    </ul>
  </li>
  <li><a href="#TYPES">TYPES</a>
    <ul>
      <li><a href="#boolean">boolean</a></li>
      <li><a href="#username">username</a></li>
      <li><a href="#service_name">service_name</a></li>
      <li><a href="#service_token">service_token</a></li>
      <li><a href="#authed">authed</a></li>
      <li><a href="#timestamp">timestamp</a></li>
      <li><a href="#job_id">job_id</a></li>
      <li><a href="#job_stage">job_stage</a></li>
      <li><a href="#job_status">job_status</a></li>
      <li><a href="#job_description">job_description</a></li>
      <li><a href="#progress">progress</a></li>
      <li><a href="#detailed_err">detailed_err</a></li>
      <li><a href="#total_progress">total_progress</a></li>
      <li><a href="#max_progress">max_progress</a></li>
      <li><a href="#progress_type">progress_type</a></li>
      <li><a href="#InitProgress">InitProgress</a></li>
      <li><a href="#Result">Result</a></li>
      <li><a href="#Results">Results</a></li>
      <li><a href="#job_info">job_info</a></li>
      <li><a href="#job_filter">job_filter</a></li>
    </ul>
  </li>
</ul>

<h1 id="NAME">NAME</h1>

<p>Bio::KBase::userandjobstate::Client</p>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>Service for storing arbitrary key/object pairs on a per user per service basis and storing job status so that a) long JSON RPC calls can report status and UI elements can receive updates, and b) there&#39;s a centralized location for job status reporting.</p>

<p>There are two modes of operation for setting key values for a user: 1) no service authentication - an authorization token for a service is not required, and any service with the user token can write to any other service&#39;s unauthed values for that user. 2) service authentication required - the service must pass a Globus Online token that identifies the service in the argument list. Values can only be set by services with possession of a valid token. The service name will be set to the username of the token. The sets of key/value pairs for the two types of method calls are entirely separate - for example, the workspace service could have a key called &#39;default&#39; that is writable by all other services (no auth) and the same key that was set with auth to which only the workspace service can write (or any other service that has access to a workspace service account token, so keep your service credentials safe).</p>

<p>Setting objects are limited to 640Kb.</p>

<p>All job writes require service authentication. No reads, either for key/value pairs or jobs, require service authentication.</p>

<p>The service assumes other services are capable of simple math and does not throw errors if a progress bar overflows.</p>

<p>Jobs are automatically deleted after 30 days.</p>

<p>Where string limits are noted, these apply only to *incoming* strings. Other services that the UJS wraps (currently AWE) may provide longer strings for these fields and the UJS passes them on unchanged.</p>

<p>Potential job process flows:</p>

<p>Asysnc: UI calls service function which returns with job id service call [spawns thread/subprocess to run job that] periodically updates the job status of the job id on the job status server meanwhile, the UI periodically polls the job status server to get progress updates service call finishes, completes job UI pulls pointers to results from the job status server</p>

<p>Sync: UI creates job, gets job id UI starts thread that calls service, providing job id service call runs, periodically updating the job status of the job id on the job status server meanwhile, the UI periodically polls the job status server to get progress updates service call finishes, completes job, returns results UI thread joins</p>

<h2 id="ver">ver</h2>

<pre><code>  $ver = $obj-&gt;ver()</code></pre>

<dl>

<dt id="Parameter-and-return-types">Parameter and return types</dt>
<dd>



<pre>
$ver is a string</pre>

</dd>
<dt id="Description">Description</dt>
<dd>

<p>Returns the version of the userandjobstate service.</p>

</dd>
</dl>

<h2 id="set_state">set_state</h2>

<pre><code>  $obj-&gt;set_state($service, $key, $value)</code></pre>

<dl>

<dt id="Parameter-and-return-types1">Parameter and return types</dt>
<dd>



<pre>
$service is a UserAndJobState.service_name
$key is a string
$value is an UnspecifiedObject, which can hold any non-null object
service_name is a string</pre>

</dd>
<dt id="Description1">Description</dt>
<dd>

<p>Set the state of a key for a service without service authentication.</p>

</dd>
</dl>

<h2 id="set_state_auth">set_state_auth</h2>

<pre><code>  $obj-&gt;set_state_auth($token, $key, $value)</code></pre>

<dl>

<dt id="Parameter-and-return-types2">Parameter and return types</dt>
<dd>



<pre>
$token is a UserAndJobState.service_token
$key is a string
$value is an UnspecifiedObject, which can hold any non-null object
service_token is a string</pre>

</dd>
<dt id="Description2">Description</dt>
<dd>

<p>Set the state of a key for a service with service authentication.</p>

</dd>
</dl>

<h2 id="get_state">get_state</h2>

<pre><code>  $value = $obj-&gt;get_state($service, $key, $auth)</code></pre>

<dl>

<dt id="Parameter-and-return-types3">Parameter and return types</dt>
<dd>



<pre>
$service is a UserAndJobState.service_name
$key is a string
$auth is a UserAndJobState.authed
$value is an UnspecifiedObject, which can hold any non-null object
service_name is a string
authed is a UserAndJobState.boolean
boolean is an int</pre>

</dd>
<dt id="Description3">Description</dt>
<dd>

<p>Get the state of a key for a service.</p>

</dd>
</dl>

<h2 id="has_state">has_state</h2>

<pre><code>  $has_key = $obj-&gt;has_state($service, $key, $auth)</code></pre>

<dl>

<dt id="Parameter-and-return-types4">Parameter and return types</dt>
<dd>



<pre>
$service is a UserAndJobState.service_name
$key is a string
$auth is a UserAndJobState.authed
$has_key is a UserAndJobState.boolean
service_name is a string
authed is a UserAndJobState.boolean
boolean is an int</pre>

</dd>
<dt id="Description4">Description</dt>
<dd>

<p>Determine if a key exists for a service.</p>

</dd>
</dl>

<h2 id="get_has_state">get_has_state</h2>

<pre><code>  $has_key, $value = $obj-&gt;get_has_state($service, $key, $auth)</code></pre>

<dl>

<dt id="Parameter-and-return-types5">Parameter and return types</dt>
<dd>



<pre>
$service is a UserAndJobState.service_name
$key is a string
$auth is a UserAndJobState.authed
$has_key is a UserAndJobState.boolean
$value is an UnspecifiedObject, which can hold any non-null object
service_name is a string
authed is a UserAndJobState.boolean
boolean is an int</pre>

</dd>
<dt id="Description5">Description</dt>
<dd>

<p>Get the state of a key for a service, and do not throw an error if the key doesn&#39;t exist. If the key doesn&#39;t exist, has_key will be false and the key value will be null.</p>

</dd>
</dl>

<h2 id="remove_state">remove_state</h2>

<pre><code>  $obj-&gt;remove_state($service, $key)</code></pre>

<dl>

<dt id="Parameter-and-return-types6">Parameter and return types</dt>
<dd>



<pre>
$service is a UserAndJobState.service_name
$key is a string
service_name is a string</pre>

</dd>
<dt id="Description6">Description</dt>
<dd>

<p>Remove a key value pair without service authentication.</p>

</dd>
</dl>

<h2 id="remove_state_auth">remove_state_auth</h2>

<pre><code>  $obj-&gt;remove_state_auth($token, $key)</code></pre>

<dl>

<dt id="Parameter-and-return-types7">Parameter and return types</dt>
<dd>



<pre>
$token is a UserAndJobState.service_token
$key is a string
service_token is a string</pre>

</dd>
<dt id="Description7">Description</dt>
<dd>

<p>Remove a key value pair with service authentication.</p>

</dd>
</dl>

<h2 id="list_state">list_state</h2>

<pre><code>  $keys = $obj-&gt;list_state($service, $auth)</code></pre>

<dl>

<dt id="Parameter-and-return-types8">Parameter and return types</dt>
<dd>



<pre>
$service is a UserAndJobState.service_name
$auth is a UserAndJobState.authed
$keys is a reference to a list where each element is a string
service_name is a string
authed is a UserAndJobState.boolean
boolean is an int</pre>

</dd>
<dt id="Description8">Description</dt>
<dd>

<p>List all keys.</p>

</dd>
</dl>

<h2 id="list_state_services">list_state_services</h2>

<pre><code>  $services = $obj-&gt;list_state_services($auth)</code></pre>

<dl>

<dt id="Parameter-and-return-types9">Parameter and return types</dt>
<dd>



<pre>
$auth is a UserAndJobState.authed
$services is a reference to a list where each element is a UserAndJobState.service_name
authed is a UserAndJobState.boolean
boolean is an int
service_name is a string</pre>

</dd>
<dt id="Description9">Description</dt>
<dd>

<p>List all state services.</p>

</dd>
</dl>

<h2 id="create_job">create_job</h2>

<pre><code>  $job = $obj-&gt;create_job()</code></pre>

<dl>

<dt id="Parameter-and-return-types10">Parameter and return types</dt>
<dd>



<pre>
$job is a UserAndJobState.job_id
job_id is a string</pre>

</dd>
<dt id="Description10">Description</dt>
<dd>

<p>Create a new job status report.</p>

</dd>
</dl>

<h2 id="start_job">start_job</h2>

<pre><code>  $obj-&gt;start_job($job, $token, $status, $desc, $progress, $est_complete)</code></pre>

<dl>

<dt id="Parameter-and-return-types11">Parameter and return types</dt>
<dd>



<pre>
$job is a UserAndJobState.job_id
$token is a UserAndJobState.service_token
$status is a UserAndJobState.job_status
$desc is a UserAndJobState.job_description
$progress is a UserAndJobState.InitProgress
$est_complete is a UserAndJobState.timestamp
job_id is a string
service_token is a string
job_status is a string
job_description is a string
InitProgress is a reference to a hash where the following keys are defined:
	ptype has a value which is a UserAndJobState.progress_type
	max has a value which is a UserAndJobState.max_progress
progress_type is a string
max_progress is an int
timestamp is a string</pre>

</dd>
<dt id="Description11">Description</dt>
<dd>

<p>Start a job and specify the job parameters.</p>

</dd>
</dl>

<h2 id="create_and_start_job">create_and_start_job</h2>

<pre><code>  $job = $obj-&gt;create_and_start_job($token, $status, $desc, $progress, $est_complete)</code></pre>

<dl>

<dt id="Parameter-and-return-types12">Parameter and return types</dt>
<dd>



<pre>
$token is a UserAndJobState.service_token
$status is a UserAndJobState.job_status
$desc is a UserAndJobState.job_description
$progress is a UserAndJobState.InitProgress
$est_complete is a UserAndJobState.timestamp
$job is a UserAndJobState.job_id
service_token is a string
job_status is a string
job_description is a string
InitProgress is a reference to a hash where the following keys are defined:
	ptype has a value which is a UserAndJobState.progress_type
	max has a value which is a UserAndJobState.max_progress
progress_type is a string
max_progress is an int
timestamp is a string
job_id is a string</pre>

</dd>
<dt id="Description12">Description</dt>
<dd>

<p>Create and start a job.</p>

</dd>
</dl>

<h2 id="update_job_progress">update_job_progress</h2>

<pre><code>  $obj-&gt;update_job_progress($job, $token, $status, $prog, $est_complete)</code></pre>

<dl>

<dt id="Parameter-and-return-types13">Parameter and return types</dt>
<dd>



<pre>
$job is a UserAndJobState.job_id
$token is a UserAndJobState.service_token
$status is a UserAndJobState.job_status
$prog is a UserAndJobState.progress
$est_complete is a UserAndJobState.timestamp
job_id is a string
service_token is a string
job_status is a string
progress is an int
timestamp is a string</pre>

</dd>
<dt id="Description13">Description</dt>
<dd>

<p>Update the status and progress for a job.</p>

</dd>
</dl>

<h2 id="update_job">update_job</h2>

<pre><code>  $obj-&gt;update_job($job, $token, $status, $est_complete)</code></pre>

<dl>

<dt id="Parameter-and-return-types14">Parameter and return types</dt>
<dd>



<pre>
$job is a UserAndJobState.job_id
$token is a UserAndJobState.service_token
$status is a UserAndJobState.job_status
$est_complete is a UserAndJobState.timestamp
job_id is a string
service_token is a string
job_status is a string
timestamp is a string</pre>

</dd>
<dt id="Description14">Description</dt>
<dd>

<p>Update the status for a job.</p>

</dd>
</dl>

<h2 id="get_job_description">get_job_description</h2>

<pre><code>  $service, $ptype, $max, $desc, $started = $obj-&gt;get_job_description($job)</code></pre>

<dl>

<dt id="Parameter-and-return-types15">Parameter and return types</dt>
<dd>



<pre>
$job is a UserAndJobState.job_id
$service is a UserAndJobState.service_name
$ptype is a UserAndJobState.progress_type
$max is a UserAndJobState.max_progress
$desc is a UserAndJobState.job_description
$started is a UserAndJobState.timestamp
job_id is a string
service_name is a string
progress_type is a string
max_progress is an int
job_description is a string
timestamp is a string</pre>

</dd>
<dt id="Description15">Description</dt>
<dd>

<p>Get the description of a job.</p>

</dd>
</dl>

<h2 id="get_job_status">get_job_status</h2>

<pre><code>  $last_update, $stage, $status, $progress, $est_complete, $complete, $error = $obj-&gt;get_job_status($job)</code></pre>

<dl>

<dt id="Parameter-and-return-types16">Parameter and return types</dt>
<dd>



<pre>
$job is a UserAndJobState.job_id
$last_update is a UserAndJobState.timestamp
$stage is a UserAndJobState.job_stage
$status is a UserAndJobState.job_status
$progress is a UserAndJobState.total_progress
$est_complete is a UserAndJobState.timestamp
$complete is a UserAndJobState.boolean
$error is a UserAndJobState.boolean
job_id is a string
timestamp is a string
job_stage is a string
job_status is a string
total_progress is an int
boolean is an int</pre>

</dd>
<dt id="Description16">Description</dt>
<dd>

<p>Get the status of a job.</p>

</dd>
</dl>

<h2 id="complete_job">complete_job</h2>

<pre><code>  $obj-&gt;complete_job($job, $token, $status, $error, $res)</code></pre>

<dl>

<dt id="Parameter-and-return-types17">Parameter and return types</dt>
<dd>



<pre>
$job is a UserAndJobState.job_id
$token is a UserAndJobState.service_token
$status is a UserAndJobState.job_status
$error is a UserAndJobState.detailed_err
$res is a UserAndJobState.Results
job_id is a string
service_token is a string
job_status is a string
detailed_err is a string
Results is a reference to a hash where the following keys are defined:
	shocknodes has a value which is a reference to a list where each element is a string
	shockurl has a value which is a string
	workspaceids has a value which is a reference to a list where each element is a string
	workspaceurl has a value which is a string
	results has a value which is a reference to a list where each element is a UserAndJobState.Result
Result is a reference to a hash where the following keys are defined:
	server_type has a value which is a string
	url has a value which is a string
	id has a value which is a string
	description has a value which is a string</pre>

</dd>
<dt id="Description17">Description</dt>
<dd>

<p>Complete the job. After the job is completed, total_progress always equals max_progress. If detailed_err is anything other than null, the job is considered to have errored out.</p>

</dd>
</dl>

<h2 id="get_results">get_results</h2>

<pre><code>  $res = $obj-&gt;get_results($job)</code></pre>

<dl>

<dt id="Parameter-and-return-types18">Parameter and return types</dt>
<dd>



<pre>
$job is a UserAndJobState.job_id
$res is a UserAndJobState.Results
job_id is a string
Results is a reference to a hash where the following keys are defined:
	shocknodes has a value which is a reference to a list where each element is a string
	shockurl has a value which is a string
	workspaceids has a value which is a reference to a list where each element is a string
	workspaceurl has a value which is a string
	results has a value which is a reference to a list where each element is a UserAndJobState.Result
Result is a reference to a hash where the following keys are defined:
	server_type has a value which is a string
	url has a value which is a string
	id has a value which is a string
	description has a value which is a string</pre>

</dd>
<dt id="Description18">Description</dt>
<dd>

<p>Get the job results.</p>

</dd>
</dl>

<h2 id="get_detailed_error">get_detailed_error</h2>

<pre><code>  $error = $obj-&gt;get_detailed_error($job)</code></pre>

<dl>

<dt id="Parameter-and-return-types19">Parameter and return types</dt>
<dd>



<pre>
$job is a UserAndJobState.job_id
$error is a UserAndJobState.detailed_err
job_id is a string
detailed_err is a string</pre>

</dd>
<dt id="Description19">Description</dt>
<dd>

<p>Get the detailed error message, if any</p>

</dd>
</dl>

<h2 id="get_job_info">get_job_info</h2>

<pre><code>  $info = $obj-&gt;get_job_info($job)</code></pre>

<dl>

<dt id="Parameter-and-return-types20">Parameter and return types</dt>
<dd>



<pre>
$job is a UserAndJobState.job_id
$info is a UserAndJobState.job_info
job_id is a string
job_info is a reference to a list containing 14 items:
	0: (job) a UserAndJobState.job_id
	1: (service) a UserAndJobState.service_name
	2: (stage) a UserAndJobState.job_stage
	3: (started) a UserAndJobState.timestamp
	4: (status) a UserAndJobState.job_status
	5: (last_update) a UserAndJobState.timestamp
	6: (prog) a UserAndJobState.total_progress
	7: (max) a UserAndJobState.max_progress
	8: (ptype) a UserAndJobState.progress_type
	9: (est_complete) a UserAndJobState.timestamp
	10: (complete) a UserAndJobState.boolean
	11: (error) a UserAndJobState.boolean
	12: (desc) a UserAndJobState.job_description
	13: (res) a UserAndJobState.Results
service_name is a string
job_stage is a string
timestamp is a string
job_status is a string
total_progress is an int
max_progress is an int
progress_type is a string
boolean is an int
job_description is a string
Results is a reference to a hash where the following keys are defined:
	shocknodes has a value which is a reference to a list where each element is a string
	shockurl has a value which is a string
	workspaceids has a value which is a reference to a list where each element is a string
	workspaceurl has a value which is a string
	results has a value which is a reference to a list where each element is a UserAndJobState.Result
Result is a reference to a hash where the following keys are defined:
	server_type has a value which is a string
	url has a value which is a string
	id has a value which is a string
	description has a value which is a string</pre>

</dd>
<dt id="Description20">Description</dt>
<dd>

<p>Get information about a job.</p>

</dd>
</dl>

<h2 id="list_jobs">list_jobs</h2>

<pre><code>  $jobs = $obj-&gt;list_jobs($services, $filter)</code></pre>

<dl>

<dt id="Parameter-and-return-types21">Parameter and return types</dt>
<dd>



<pre>
$services is a reference to a list where each element is a UserAndJobState.service_name
$filter is a UserAndJobState.job_filter
$jobs is a reference to a list where each element is a UserAndJobState.job_info
service_name is a string
job_filter is a string
job_info is a reference to a list containing 14 items:
	0: (job) a UserAndJobState.job_id
	1: (service) a UserAndJobState.service_name
	2: (stage) a UserAndJobState.job_stage
	3: (started) a UserAndJobState.timestamp
	4: (status) a UserAndJobState.job_status
	5: (last_update) a UserAndJobState.timestamp
	6: (prog) a UserAndJobState.total_progress
	7: (max) a UserAndJobState.max_progress
	8: (ptype) a UserAndJobState.progress_type
	9: (est_complete) a UserAndJobState.timestamp
	10: (complete) a UserAndJobState.boolean
	11: (error) a UserAndJobState.boolean
	12: (desc) a UserAndJobState.job_description
	13: (res) a UserAndJobState.Results
job_id is a string
job_stage is a string
timestamp is a string
job_status is a string
total_progress is an int
max_progress is an int
progress_type is a string
boolean is an int
job_description is a string
Results is a reference to a hash where the following keys are defined:
	shocknodes has a value which is a reference to a list where each element is a string
	shockurl has a value which is a string
	workspaceids has a value which is a reference to a list where each element is a string
	workspaceurl has a value which is a string
	results has a value which is a reference to a list where each element is a UserAndJobState.Result
Result is a reference to a hash where the following keys are defined:
	server_type has a value which is a string
	url has a value which is a string
	id has a value which is a string
	description has a value which is a string</pre>

</dd>
<dt id="Description21">Description</dt>
<dd>

<p>List jobs. Leave &#39;services&#39; empty or null to list jobs from all services.</p>

</dd>
</dl>

<h2 id="list_job_services">list_job_services</h2>

<pre><code>  $services = $obj-&gt;list_job_services()</code></pre>

<dl>

<dt id="Parameter-and-return-types22">Parameter and return types</dt>
<dd>



<pre>
$services is a reference to a list where each element is a UserAndJobState.service_name
service_name is a string</pre>

</dd>
<dt id="Description22">Description</dt>
<dd>

<p>List all job services. Does not currently list AWE services.</p>

</dd>
</dl>

<h2 id="share_job">share_job</h2>

<pre><code>  $obj-&gt;share_job($job, $users)</code></pre>

<dl>

<dt id="Parameter-and-return-types23">Parameter and return types</dt>
<dd>



<pre>
$job is a UserAndJobState.job_id
$users is a reference to a list where each element is a UserAndJobState.username
job_id is a string
username is a string</pre>

</dd>
<dt id="Description23">Description</dt>
<dd>

<p>Share a job. Sharing a job to the same user twice or with the job owner has no effect.</p>

</dd>
</dl>

<h2 id="unshare_job">unshare_job</h2>

<pre><code>  $obj-&gt;unshare_job($job, $users)</code></pre>

<dl>

<dt id="Parameter-and-return-types24">Parameter and return types</dt>
<dd>



<pre>
$job is a UserAndJobState.job_id
$users is a reference to a list where each element is a UserAndJobState.username
job_id is a string
username is a string</pre>

</dd>
<dt id="Description24">Description</dt>
<dd>

<p>Stop sharing a job. Removing sharing from a user that the job is not shared with or the job owner has no effect.</p>

</dd>
</dl>

<h2 id="get_job_owner">get_job_owner</h2>

<pre><code>  $owner = $obj-&gt;get_job_owner($job)</code></pre>

<dl>

<dt id="Parameter-and-return-types25">Parameter and return types</dt>
<dd>



<pre>
$job is a UserAndJobState.job_id
$owner is a UserAndJobState.username
job_id is a string
username is a string</pre>

</dd>
<dt id="Description25">Description</dt>
<dd>

<p>Get the owner of a job. Does not currently work with AWE jobs.</p>

</dd>
</dl>

<h2 id="get_job_shared">get_job_shared</h2>

<pre><code>  $users = $obj-&gt;get_job_shared($job)</code></pre>

<dl>

<dt id="Parameter-and-return-types26">Parameter and return types</dt>
<dd>



<pre>
$job is a UserAndJobState.job_id
$users is a reference to a list where each element is a UserAndJobState.username
job_id is a string
username is a string</pre>

</dd>
<dt id="Description26">Description</dt>
<dd>

<p>Get the list of users with which a job is shared. Only the job owner may access this method. Does not currently work with AWE jobs.</p>

</dd>
</dl>

<h2 id="delete_job">delete_job</h2>

<pre><code>  $obj-&gt;delete_job($job)</code></pre>

<dl>

<dt id="Parameter-and-return-types27">Parameter and return types</dt>
<dd>



<pre>
$job is a UserAndJobState.job_id
job_id is a string</pre>

</dd>
<dt id="Description27">Description</dt>
<dd>

<p>Delete a job. Will fail if the job is not complete. Does not currently work with AWE jobs.</p>

</dd>
</dl>

<h2 id="force_delete_job">force_delete_job</h2>

<pre><code>  $obj-&gt;force_delete_job($token, $job)</code></pre>

<dl>

<dt id="Parameter-and-return-types28">Parameter and return types</dt>
<dd>



<pre>
$token is a UserAndJobState.service_token
$job is a UserAndJobState.job_id
service_token is a string
job_id is a string</pre>

</dd>
<dt id="Description28">Description</dt>
<dd>

<p>Force delete a job - will succeed unless the job has not been started. In that case, the service must start the job and then delete it, since a job is not &quot;owned&quot; by any service until it is started.</p>

</dd>
</dl>

<h1 id="TYPES">TYPES</h1>

<h2 id="boolean">boolean</h2>

<dl>

<dt id="Description29">Description</dt>
<dd>

<p>A boolean. 0 = false, other = true.</p>

</dd>
<dt id="Definition">Definition</dt>
<dd>



<pre>
an int
</pre>

</dd>
</dl>

<h2 id="username">username</h2>

<dl>

<dt id="Description30">Description</dt>
<dd>

<p>Login name of a KBase user account.</p>

</dd>
<dt id="Definition1">Definition</dt>
<dd>



<pre>
a string
</pre>

</dd>
</dl>

<h2 id="service_name">service_name</h2>

<dl>

<dt id="Description31">Description</dt>
<dd>

<p>A service name. Alphanumerics and the underscore are allowed.</p>

</dd>
<dt id="Definition2">Definition</dt>
<dd>



<pre>
a string
</pre>

</dd>
</dl>

<h2 id="service_token">service_token</h2>

<dl>

<dt id="Description32">Description</dt>
<dd>

<p>A globus ID token that validates that the service really is said service.</p>

</dd>
<dt id="Definition3">Definition</dt>
<dd>



<pre>
a string
</pre>

</dd>
</dl>

<h2 id="authed">authed</h2>

<dl>

<dt id="Description33">Description</dt>
<dd>

<p>Specifies whether results returned should be from key/value pairs set with service authentication (true) or without (false).</p>

</dd>
<dt id="Definition4">Definition</dt>
<dd>



<pre>
a UserAndJobState.boolean
</pre>

</dd>
</dl>

<h2 id="timestamp">timestamp</h2>

<dl>

<dt id="Description34">Description</dt>
<dd>

<p>A time in the format YYYY-MM-DDThh:mm:ssZ, where Z is the difference in time to UTC in the format +/-HHMM, eg: 2012-12-17T23:24:06-0500 (EST time) 2013-04-03T08:56:32+0000 (UTC time)</p>

</dd>
<dt id="Definition5">Definition</dt>
<dd>



<pre>
a string
</pre>

</dd>
</dl>

<h2 id="job_id">job_id</h2>

<dl>

<dt id="Description35">Description</dt>
<dd>

<p>A job id.</p>

</dd>
<dt id="Definition6">Definition</dt>
<dd>



<pre>
a string
</pre>

</dd>
</dl>

<h2 id="job_stage">job_stage</h2>

<dl>

<dt id="Description36">Description</dt>
<dd>

<p>A string that describes the stage of processing of the job. One of &#39;created&#39;, &#39;started&#39;, &#39;completed&#39;, or &#39;error&#39;.</p>

</dd>
<dt id="Definition7">Definition</dt>
<dd>



<pre>
a string
</pre>

</dd>
</dl>

<h2 id="job_status">job_status</h2>

<dl>

<dt id="Description37">Description</dt>
<dd>

<p>A job status string supplied by the reporting service. No more than 200 characters.</p>

</dd>
<dt id="Definition8">Definition</dt>
<dd>



<pre>
a string
</pre>

</dd>
</dl>

<h2 id="job_description">job_description</h2>

<dl>

<dt id="Description38">Description</dt>
<dd>

<p>A job description string supplied by the reporting service. No more than 1000 characters.</p>

</dd>
<dt id="Definition9">Definition</dt>
<dd>



<pre>
a string
</pre>

</dd>
</dl>

<h2 id="progress">progress</h2>

<dl>

<dt id="Description39">Description</dt>
<dd>

<p>The amount of progress the job has made since the last update. This will be summed to the total progress so far.</p>

</dd>
<dt id="Definition10">Definition</dt>
<dd>



<pre>
an int
</pre>

</dd>
</dl>

<h2 id="detailed_err">detailed_err</h2>

<dl>

<dt id="Description40">Description</dt>
<dd>

<p>Detailed information about a job error, such as a stacktrace, that will not fit in the job_status. No more than 100K characters.</p>

</dd>
<dt id="Definition11">Definition</dt>
<dd>



<pre>
a string
</pre>

</dd>
</dl>

<h2 id="total_progress">total_progress</h2>

<dl>

<dt id="Description41">Description</dt>
<dd>

<p>The total progress of a job.</p>

</dd>
<dt id="Definition12">Definition</dt>
<dd>



<pre>
an int
</pre>

</dd>
</dl>

<h2 id="max_progress">max_progress</h2>

<dl>

<dt id="Description42">Description</dt>
<dd>

<p>The maximum possible progress of a job.</p>

</dd>
<dt id="Definition13">Definition</dt>
<dd>



<pre>
an int
</pre>

</dd>
</dl>

<h2 id="progress_type">progress_type</h2>

<dl>

<dt id="Description43">Description</dt>
<dd>

<p>The type of progress that is being tracked. One of: &#39;none&#39; - no numerical progress tracking &#39;task&#39; - Task based tracking, e.g. 3/24 &#39;percent&#39; - percentage based tracking, e.g. 5/100%</p>

</dd>
<dt id="Definition14">Definition</dt>
<dd>



<pre>
a string
</pre>

</dd>
</dl>

<h2 id="InitProgress">InitProgress</h2>

<dl>

<dt id="Description44">Description</dt>
<dd>

<p>Initialization information for progress tracking. Currently 3 choices:</p>

<p>progress_type ptype - one of &#39;none&#39;, &#39;percent&#39;, or &#39;task&#39; max_progress max- required only for task based tracking. The total number of tasks until the job is complete.</p>

</dd>
<dt id="Definition15">Definition</dt>
<dd>



<pre>
a reference to a hash where the following keys are defined:
ptype has a value which is a UserAndJobState.progress_type
max has a value which is a UserAndJobState.max_progress</pre>

</dd>
</dl>

<h2 id="Result">Result</h2>

<dl>

<dt id="Description45">Description</dt>
<dd>

<p>A place where the results of a job may be found. All fields except description are required.</p>

<p>string server_type - the type of server storing the results. Typically either &quot;Shock&quot; or &quot;Workspace&quot;. No more than 100 characters. string url - the url of the server. No more than 1000 characters. string id - the id of the result in the server. Typically either a workspace id or a shock node. No more than 1000 characters. string description - a free text description of the result. No more than 1000 characters.</p>

</dd>
<dt id="Definition16">Definition</dt>
<dd>



<pre>
a reference to a hash where the following keys are defined:
server_type has a value which is a string
url has a value which is a string
id has a value which is a string
description has a value which is a string</pre>

</dd>
</dl>

<h2 id="Results">Results</h2>

<dl>

<dt id="Description46">Description</dt>
<dd>

<p>A pointer to job results. All arguments are optional. Applications should use the default shock and workspace urls if omitted. list&lt;string&gt; shocknodes - the shocknode(s) where the results can be found. No more than 1000 characters. string shockurl - the url of the shock service where the data was saved. No more than 1000 characters. list&lt;string&gt; workspaceids - the workspace ids where the results can be found. No more than 1000 characters. string workspaceurl - the url of the workspace service where the data was saved. No more than 1000 characters. list&lt;Result&gt; - a set of job results. This format allows for specifying results at multiple server locations and providing a free text description of the result.</p>

</dd>
<dt id="Definition17">Definition</dt>
<dd>



<pre>
a reference to a hash where the following keys are defined:
shocknodes has a value which is a reference to a list where each element is a string
shockurl has a value which is a string
workspaceids has a value which is a reference to a list where each element is a string
workspaceurl has a value which is a string
results has a value which is a reference to a list where each element is a UserAndJobState.Result</pre>

</dd>
</dl>

<h2 id="job_info">job_info</h2>

<dl>

<dt id="Description47">Description</dt>
<dd>

<p>Information about a job.</p>

</dd>
<dt id="Definition18">Definition</dt>
<dd>



<pre>
a reference to a list containing 14 items:
0: (job) a UserAndJobState.job_id
1: (service) a UserAndJobState.service_name
2: (stage) a UserAndJobState.job_stage
3: (started) a UserAndJobState.timestamp
4: (status) a UserAndJobState.job_status
5: (last_update) a UserAndJobState.timestamp
6: (prog) a UserAndJobState.total_progress
7: (max) a UserAndJobState.max_progress
8: (ptype) a UserAndJobState.progress_type
9: (est_complete) a UserAndJobState.timestamp
10: (complete) a UserAndJobState.boolean
11: (error) a UserAndJobState.boolean
12: (desc) a UserAndJobState.job_description
13: (res) a UserAndJobState.Results</pre>

</dd>
</dl>

<h2 id="job_filter">job_filter</h2>

<dl>

<dt id="Description48">Description</dt>
<dd>

<p>A string-based filter for listing jobs.</p>

<pre><code>        If the string contains:
                &#39;Q&#39; - queued jobs are returned (but see below).
                &#39;R&#39; - running jobs are returned.
                &#39;C&#39; - completed jobs are returned.
                &#39;E&#39; - jobs that errored out are returned.
                &#39;S&#39; - shared jobs are returned.
        The string can contain any combination of these codes in any order.
        If the string contains none of the codes or is null, all self-owned 
        jobs are returned. If only the S filter is
        present, all jobs are returned.
        
        The Q filter has no meaning in the context of UJS based jobs (e.g. jobs
        that are not pulled by the UJS from an external job runner) and is
        ignored. A UJS job in the &#39;created&#39; state is not yet &#39;owned&#39;, per se,
        by a job runner, and so UJS jobs in the &#39;created&#39; state are never
        returned.
        
        In contrast, for a job runner like AWE, jobs may be in the submitted
        or queued state, and the Q filter will cause these jobs to be returned.
        
        Note that the S filter currently does not work with AWE. All AWE jobs
        visible to the user are always returned.</code></pre>

</dd>
<dt id="Definition19">Definition</dt>
<dd>



<pre>
a string
</pre>

</dd>
</dl>


</body>

</html>


