<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>authorization_server</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body style="background-color: white">



<ul id="index">
  <li><a href="#Bio::KBase::Auth">Bio::KBase::Auth</a>
    <ul>
      <li><a href="#Class-Variables">Class Variables</a></li>
      <li><a href="#Class-Methods">Class Methods</a></li>
    </ul>
  </li>
</ul>

<h1 id="Bio::KBase::Auth">Bio::KBase::Auth</h1>

<p>OAuth based authentication for Bio::KBase::* libraries.</p>

<p>This is a helper class that stores shared configuration information.</p>

<h2 id="Class-Variables">Class Variables</h2>

<dl>

<dt id="ConfPath"><b>$ConfPath</b></dt>
<dd>

<p>The path to the INI formatted configuration file. Defaults to ~/.kbase_config, can be overriden by the shell environment variable $KB_CLIENT_CONFIG. Configuration directives for the Bio::KBase::Auth, Bio::KBase::AuthToken and Bio::KBase::AuthUser classes are loaded from the &quot;authentication&quot; section of the INI file.</p>

</dd>
<dt id="Conf"><b>%Conf</b></dt>
<dd>

<p>A hash containing the full contents loaded from ConfPath (if any). This includes stuff outside of the authentication section.</p>

</dd>
<dt id="AuthConf"><b>%AuthConf</b></dt>
<dd>

<p>A hash containing only the directives that begin with &quot;authentication.&quot; in %Conf</p>

</dd>
<dt id="VERSION"><b>$VERSION</b></dt>
<dd>

<p>The version of the libraries.</p>

</dd>
<dt id="AuthSvcHost"><b>$AuthSvcHost</b></dt>
<dd>

<p>A string specifying the base URL for the authentication and profile service. It defaults to &quot;https://nexus.api.globusonline.org/&quot;. Set by &#39;authentication.servicehost&#39; entry in .kbase_config</p>

</dd>
<dt id="AuthorizePath"><b>%AuthorizePath</b></dt>
<dd>

<p>The path beneath $AuthSvcHost that supports authentication token requests, defaults to &quot;/goauth/token&quot;. Set by &#39;authentication.authpath&#39; in .kbase_config</p>

</dd>
<dt id="ProfilePath"><b>$ProfilePath</b></dt>
<dd>

<p>The path under $AuthSvcHost that returns user profile information, defaults to &quot;users&quot;. Set by &#39;authentication.profilepath&#39; in .kbase_config</p>

</dd>
<dt id="RoleSvcURL"><b>$RoleSvcURL</b></dt>
<dd>

<p>The URL used to query for roles/groups information, defaults to &quot;https://kbase.us/services/authorization/Roles&quot;. Set by &#39;authentication.rolesvcurl&#39; in .kbase_config</p>

</dd>
<dt id="MongoDB"><b>$MongoDB</b></dt>
<dd>

<p>A MongoDB::Connection reference that can be activated by defining authentication.mongodb in the configuration file. The value of authentication.mongodb is passed in as the value of the host parameter in the MongoDB::Connection-&gt;new() call. The MongoDB connection is used for access to server-side caching features and is not needed for normal operation.</p>

</dd>
</dl>

<h2 id="Class-Methods">Class Methods</h2>

<dl>

<dt id="LoadConfig-config-path"><b>LoadConfig( [config path])</b></dt>
<dd>

<p>Loads the default INI format file so that the class variables are updated to new values. If no file is passed in, then the default config file is used - if a path is given then it is treated as an INI file and read, and class variables are updated accordingly.</p>

</dd>
<dt id="SetConfigs-config"><b>SetConfigs(%config)</b></dt>
<dd>

<p>This function takes a hash and uses the keys and values as settings to be updated in the INI file in $ConfPath. Values that are not passed into the hash are left unmolested. A hash key with an undef value will result in that setting being deleted from the INI file. Keys must be an alphanumeric string beginning with an alphabetic character. Values must be either a string(number) or an array reference of strings.</p>

<p>The keys will be inserted into authentication section.</p>

</dd>
<dt id="GetConfigs"><b>GetConfigs()</b></dt>
<dd>

<p>This function looks up the stashed kbase config file, and if it exists it pulls out the user_id and token information and returns the info in a hash with keys &#39;user_id&#39; and &#39;token&#39; defined. If the user or token is not set, then the values for &#39;user_id&#39; and &#39;token&#39; are set to the empty string.</p>

</dd>
</dl>


</body>

</html>


